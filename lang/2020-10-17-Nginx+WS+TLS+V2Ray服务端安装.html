<!doctype html>
<html lang="en">
<!--------------------------------------------------头部-------------------------------------------------------->
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
<link rel="stylesheet"  href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.3.1/styles/default.min.css"> <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.3.1/highlight.min.js"></script> <script>hljs.initHighlightingOnLoad();</script> 

    <style>
      .bd-placeholder-img {
        font-size: 1.125rem;
        text-anchor: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
      }
      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }
      }
    </style>
    <!-- Custom styles for this template -->
    <link href="../css/offcanvas.css" rel="stylesheet">
    <title>Blog</title>
  </head>
<!--------------------------------------------------导航-------------------------------------------------------->
  <body class="bg-light" id="ups" name="ups">
<nav class="navbar navbar-expand-lg fixed-top navbar-dark bg-dark">
  <a class="navbar-brand mr-auto mr-lg-0" href="#">&nbsp;</a>
  <button class="navbar-toggler p-0 border-0" type="button" data-toggle="offcanvas">
    <span class="navbar-toggler-icon"></span></div>
  </button>

  <div class="navbar-collapse offcanvas-collapse" id="navbarsExampleDefault">
    <ul class="navbar-nav mr-auto">
      <!-- <li class="nav-item active"><a class="nav-link" href="../#">Dashboard <span class="sr-only">(current)</span></div></a></li> -->
 <li class="nav-item "><a class="nav-link" href="../index.html">博客</a></li>
      <li class="nav-item active"><a class="nav-link" href="../lang/index.html">Lang</a></li>
    <!--   <li class="nav-item active"><a class="nav-link" href="../go.html">Go</a></li> -->
      <li class="nav-item"><a class="nav-link" href="../soft.html">软件</a></li>
      <li class="nav-item"><a class="nav-link" href="../site.html">导航</a></li>
<li class="nav-item"><a class="nav-link" href="../ejing.html">易经</a></li>
      <li class="nav-item"><a class="nav-link" href="../m/index.html">音乐</a></li>
 <li class="nav-item"><a class="nav-link" href="#">|</a></li>
      <li class="nav-item"><a class="nav-link" href="../head.html">头部</a></li>
      <li class="nav-item"><a class="nav-link" href="../women.html">女装</a></li>
      <li class="nav-item"><a class="nav-link" href="../man.html">男装</a></li>
      <li class="nav-item"><a class="nav-link" href="../ku.html">裤子</a></li>
      <li class="nav-item"><a class="nav-link" href="../bags.html">包</a></li>
      <li class="nav-item"><a class="nav-link" href="../child.html">儿童</a></li>
      <li class="nav-item"><a class="nav-link" href="../shoes.html">鞋</a></li>
      <li class="nav-item"><a class="nav-link" href="../sport.html">运动</a></li>
      <li class="nav-item"><a class="nav-link" href="../toy.html">玩具</a></li>
      <li class="nav-item"><a class="nav-link" href="../phone.html">手机</a></li>
      <li class="nav-item"><a class="nav-link" href="../pc.html">PC</a></li>
      <li class="nav-item"><a class="nav-link" href="../dian.html">小电器</a></li>
      <li class="nav-item"><a class="nav-link" href="../home.html">居家</a></li>
      <li class="nav-item"><a class="nav-link" href="../kitchen.html">厨房</a></li>
      <li class="nav-item"><a class="nav-link" href="../car.html">汽车</a></li>
      <li class="nav-item"><a class="nav-link" href="../medi.html">医药</a></li>
      <li class="nav-item"><a class="nav-link" href="../indus.html">工业</a></li>
      <li class="nav-item"><a class="nav-link" href="../ray.html">光</a></li>


      <!-- <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="dropdown01" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Settings</a>
        <div class="dropdown-menu" aria-labelledby="dropdown01">
          <a class="dropdown-item" href="#">Action</a>
          <a class="dropdown-item" href="#">Another action</a>
          <a class="dropdown-item" href="#">Something else here</a>
        </div>
      </li> -->
    </ul>
   <!--  <form class="form-inline my-2 my-lg-0">
      <input class="form-control mr-sm-2" type="text" placeholder="Search" aria-label="Search">
      <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
    </form> -->
  </div>
</nav>

<!--------------------------------------------------内容-------------------------------------------------------->
<main role="main" class="container">
<!---------------------------------------------------------------------------------------------------------------------------->
<!---------------------------------------------------------------------------------------------------------------------------->
<div class="row"><div class="col-xs-12 col-md-12 btit"><a href="../lang/index.html">Nginx+WS+TLS+V2Ray 服务端安装</a></div></div>
<div class="row"><span class="txt">VPS推荐：<a href="https://stock.bwg.net/" target="_blank">&nbsp;&nbsp;帮瓦工</a><a href="https://www.vultr.com/?ref=7009560" target="_blank">&nbsp;&nbsp;Vultr</a><a href="https://cloudcone.com" target="_blank">&nbsp;&nbsp;CloudCone</a>&nbsp;&nbsp;|&nbsp;&nbsp;免费域名：<a href="https://www.freenom.com/" target="_blank">https://freenom.com</a>&nbsp;&nbsp;收费：<a href="https://namesilo.com" target="_blank">https://namesilo.com</a>

</span></div>
<!-- <div class="row"><pre><code></pre></code></div> -->
<!-- <div class="row"><span class="txt">1. 需要注册一个域名，然后把域名指向到自己的VPS的IP。(免费域名注册：<a href="https://www.freenom.com/" target="_blank">https://freenom.com</a>  顶级域名注册：<a href="https://namesilo.com" target="_blank">https://namesilo.com</a>)</span></div>
<div class="row"><pre><code>user@4790:~$ ping -c 4 qiqing.ga
PING qiqing.ga (45.76.97.209) 56(84) bytes of data.
64 bytes from 45.76.97.209.vultr.com (45.76.97.209): icmp_seq=1 ttl=48 time=306 ms
64 bytes from 45.76.97.209.vultr.com (45.76.97.209): icmp_seq=2 ttl=48 time=315 ms
64 bytes from 45.76.97.209.vultr.com (45.76.97.209): icmp_seq=3 ttl=48 time=307 ms
64 bytes from 45.76.97.209.vultr.com (45.76.97.209): icmp_seq=4 ttl=48 time=301 ms
</pre></code></div> -->

<div class="row"><span class="txt">1. 用ssh链接自己的VPS，自动安装V2Ray Nginx+WS+TLS</span></div>
<div class="row"><pre><code>bash <(curl -L https://raw.githubusercontent.com/yuukuun/v2fly/main/v2fly.sh)</pre></code></div>

<div class="row"><span class="txt">2. 输入域名</span></div>
<div class="row"><pre><code>请输入自己的域名 : qiqing.ga</pre></code></div>

<div class="row"><span class="txt">3. 安装成功</span></div>
<div class="row"><pre><code>
● nginx.service - nginx
   Loaded: loaded (/etc/systemd/system/nginx.service; enabled; vendor preset: disabled)
   Active: active (running) since Sun 2020-10-18 01:40:36 UTC; 495ms ago
 Main PID: 18170 (nginx)
    Tasks: 2 (limit: 5048)
   Memory: 1.9M
   CGroup: /system.slice/nginx.service
           ├─18170 nginx: master process /usr/local/nginx/sbin/nginx
           └─18172 nginx: worker process

● v2ray.service - V2Ray Service
   Loaded: loaded (/etc/systemd/system/v2ray.service; enabled; vendor preset: disabled)
  Drop-In: /etc/systemd/system/v2ray.service.d
           └─10-donot_touch_single_conf.conf
   Active: active (running) since Sun 2020-10-18 01:40:36 UTC; 276ms ago
     Docs: https://www.v2fly.org/
 Main PID: 18193 (v2ray)
    Tasks: 6 (limit: 5048)
   Memory: 9.9M

</pre></code></div>

<div class="row"><span class="txt">
4. 把刚才输入的域名用浏览器打开，就可以看到v2ray客户端和参数。(1)电脑端参数配置好直接下载就能用。(2)Android客户端安装后手动暑输入参数。(3)苹果IOS客户端需要美国区的帐号下载安装和参数配置。(如果客户端连接出错，把服务器和客户端时间同步的！)</span></div><br>
<img src="2020-10-17-Nginx+WS+TLS+V2Ray服务端安装/client.jpg" class="img-fluid col-12 col-md-12" alt="Responsive image">
<div class="row"><div class="col-xs-12 col-md-12 btit"><a href="../bash/install-release.sh" target="_blank">+++++++++++++++手动安装v2ray+++++++++++++++</a></div></div>

<div class="row"><pre><code>bash <(curl -L https://raw.githubusercontent.com/v2fly/fhs-install-v2ray/master/install-release.sh)</pre></code></div>
<div class="row"><pre><code>621b99bc-1230-4f20-8438-04ff5f1edd8f</pre></code></div>

<div class="row"><span class="txt"><a href="https://github.com/v2fly/fhs-install-v2ray" target="_blank">5. Linux v2ray服务端配置</a></span></div>
<div class="row"><pre><code>
#!/bin/bash
cat >/usr/local/etc/v2ray/config.json<<-EOF
{
  "log" : {
    "access": "/var/log/v2ray/access.log",
    "error": "/var/log/v2ray/error.log",
    "loglevel": "warning"
  },
  "inbound": {
    "port": 11234,
    "listen":"127.0.0.1",
    "protocol": "vmess",
    "settings": {
      "clients": [
        {
          "id": "621b99bc-1230-4f20-8438-04ff5f1edd8f",
          "level": 1,
          "alterId": 64,
          "email": "akcp1234@gmail.com"
        }
      ]
    },
     "streamSettings": {
      "network": "ws",
      "wsSettings": {
         "path": "/7ba7"
        }
     }
  },
  "outbound": {
    "protocol": "freedom",
    "settings": {}
  }
}
EOF
systemctl start v2ray.service
systemctl enable v2ray.service
systemctl status v2ray.service
</pre></code></div>

<div class="row"><span class="txt"><a href="https://github.com/v2fly/fhs-install-v2ray" target="_blank">6. Linux v2ray客户端配置</a></span></div>
<div class="row"><pre><code>
#!/bin/bash
cat >/usr/local/etc/v2ray/config.json<<-EOF
{
  "inbounds": [
    {
      "port": 1080,
      "listen": "127.0.0.1",
      "protocol": "socks",
      "sniffing": {
        "enabled": true,
        "destOverride": ["http", "tls"]
      },
      "settings": {
        "auth": "noauth",
        "udp": false
      }
    }
  ],
  "outbounds": [
    {
      "protocol": "vmess",
      "settings": {
        "vnext": [
          {
            "address": "baidu.com",
            "port": 12345,
            "users": [
              {
                "id": "362a1354-21dd-4799-bfe1-c6ecc8e4dd0",
                "alterId": 64
              }
            ]
          }
        ]
      },
      "streamSettings": {
        "network": "ws",
        "security": "tls",
        "wsSettings": {
          "path": "/7ba7"
        }
      }
    }
  ]
}
EOF

systemctl start v2ray.service
systemctl enable v2ray.service
systemctl status v2ray.service
</pre></code></div>

<div class="row"><span class="txt"><a href="https://github.com/2dust/v2rayN/releases/" target="_blank">7. Windows v2ray客户端配置</a></span></div>
<div class="row"><pre><code>
cat >guiNConfig.json<<-EOP
{
  "inbound": [
    {
      "localPort": 10808,
      "protocol": "socks",
      "udpEnabled": true,
      "sniffingEnabled": true
    }
  ],
  "logEnabled": false,
  "loglevel": "warning",
  "index": 0,
  "vmess": [
    {
      "configVersion": 2,
      "address": "baidu.com",
      "port": 443,
      "id": "362a1354-21dd-4799-bfe1-c6ecc8e4dd0",
      "alterId": 64,
      "security": "auto",
      "network": "ws",
      "remarks": "",
      "headerType": "none",
      "requestHost": "",
      "path": "/7ba7",
      "streamSecurity": "tls",
      "allowInsecure": "",
      "configType": 1,
      "testResult": "",
      "subid": ""
    }
  ],
  "muxEnabled": true,
  "domainStrategy": "IPIfNonMatch",
  "routingMode": "0",
  "useragent": [],
  "userdirect": [],
  "userblock": [],
  "kcpItem": {
    "mtu": 1350,
    "tti": 50,
    "uplinkCapacity": 12,
    "downlinkCapacity": 100,
    "congestion": false,
    "readBufferSize": 2,
    "writeBufferSize": 2
  },
  "listenerType": 2,
  "speedTestUrl": "http://speedtest-sgp1.digitalocean.com/10mb.test",
  "speedPingTestUrl": "https://www.google.com/generate_204",
  "urlGFWList": "https://raw.githubusercontent.com/gfwlist/gfwlist/master/gfwlist.txt",
  "allowLANConn": false,
  "enableStatistics": false,
  "keepOlderDedupl": false,
  "statisticsFreshRate": 2000,
  "remoteDNS": null,
  "defAllowInsecure": false,
  "subItem": [],
  "uiItem": {
    "mainSize": "968, 632",
    "mainLvColWidth": {
      "def": 30,
      "configType": 80,
      "remarks": 100,
      "address": 120,
      "port": 50,
      "security": 90,
      "network": 70,
      "subRemarks": 50,
      "testResult": 70
    }
  },
  "userPacRule": []
}
EOP

</pre></code></div>
<!-- ------------------------------------------------------------------------------------------------------------------------------------------------------------ -->
<!-- ------------------------------------------------------------------------------------------------------------------------------------------------------------ -->

<div class="row hou"><hr></div>
</main>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
    <script src="../css/offcanvas.js"></script>
    <div class="goTop" id="js-go_top"><a href="#ups"><img src="../css/icon_top.png" alt="回到顶部图片"></a></div>
<script src="../css/GoToTop.js"></script>
  </body>
</html>