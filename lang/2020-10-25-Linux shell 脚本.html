<!doctype html>
<html lang="en">
<!--------------------------------------------------头部-------------------------------------------------------->
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <link rel="stylesheet"  href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.3.1/styles/default.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.3.1/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <style>
      .bd-placeholder-img {
        font-size: 1.125rem;
        text-anchor: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
      }
      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }
      }
    </style>
    <!-- Custom styles for this template -->
    <link href="../css/offcanvas.css" rel="stylesheet">
    <title>go</title>
  </head>
<!--------------------------------------------------导航-------------------------------------------------------->
  <body class="bg-light" id="ups" name="ups">
<nav class="navbar navbar-expand-lg fixed-top navbar-dark bg-dark">
  <a class="navbar-brand mr-auto mr-lg-0" href="#">&nbsp;</a>
  <button class="navbar-toggler p-0 border-0" type="button" data-toggle="offcanvas">
    <span class="navbar-toggler-icon"></span></div>
  </button>

  <div class="navbar-collapse offcanvas-collapse" id="navbarsExampleDefault">
    <ul class="navbar-nav mr-auto">
      <!-- <li class="nav-item active"><a class="nav-link" href="../#">Dashboard <span class="sr-only">(current)</span></div></a></li> -->
 <li class="nav-item"><a class="nav-link" href="../blog.html">博客</a></li>
      <li class="nav-item active"><a class="nav-link" href="../lang.php">Lang</a></li>
    <!--   <li class="nav-item active"><a class="nav-link" href="../go.html">Go</a></li> -->
      <li class="nav-item"><a class="nav-link" href="../soft.html">软件</a></li>
      <li class="nav-item"><a class="nav-link" href="../site.html">导航</a></li>
<li class="nav-item"><a class="nav-link" href="../ejing.html">易经</a></li>
      <li class="nav-item"><a class="nav-link" href="../m/index.html">音乐</a></li>
 <li class="nav-item"><a class="nav-link" href="../go.php">|</a></li>
      <li class="nav-item"><a class="nav-link" href="../head.html">头部</a></li>
      <li class="nav-item"><a class="nav-link" href="../women.html">女装</a></li>
      <li class="nav-item"><a class="nav-link" href="../man.html">男装</a></li>
      <li class="nav-item"><a class="nav-link" href="../ku.html">裤子</a></li>
      <li class="nav-item"><a class="nav-link" href="../bags.html">包</a></li>
      <li class="nav-item"><a class="nav-link" href="../child.html">儿童</a></li>
      <li class="nav-item"><a class="nav-link" href="../shoes.html">鞋</a></li>
      <li class="nav-item"><a class="nav-link" href="../sport.html">运动</a></li>
      <li class="nav-item"><a class="nav-link" href="../toy.html">玩具</a></li>
      <li class="nav-item"><a class="nav-link" href="../phone.html">手机</a></li>
      <li class="nav-item"><a class="nav-link" href="../pc.html">PC</a></li>
      <li class="nav-item"><a class="nav-link" href="../dian.html">小电器</a></li>
      <li class="nav-item"><a class="nav-link" href="../home.html">居家</a></li>
      <li class="nav-item"><a class="nav-link" href="../kitchen.html">厨房</a></li>
      <li class="nav-item"><a class="nav-link" href="../car.html">汽车</a></li>
      <li class="nav-item"><a class="nav-link" href="../medi.html">医药</a></li>
      <li class="nav-item"><a class="nav-link" href="../indus.html">工业</a></li>
      <li class="nav-item"><a class="nav-link" href="../ray.html">光</a></li>


      <!-- <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="dropdown01" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Settings</a>
        <div class="dropdown-menu" aria-labelledby="dropdown01">
          <a class="dropdown-item" href="#">Action</a>
          <a class="dropdown-item" href="#">Another action</a>
          <a class="dropdown-item" href="#">Something else here</a>
        </div>
      </li> -->
    </ul>
   <!--  <form class="form-inline my-2 my-lg-0">
      <input class="form-control mr-sm-2" type="text" placeholder="Search" aria-label="Search">
      <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
    </form> -->
  </div>
</nav>
<!--------------------------------------------------二级导航-------------------------------------------------------->
<!-- <div class="nav-scroller bg-white shadow-sm">
  <nav class="nav nav-underline">

    <a class="nav-link active" href="index.html">Linux</a>
    <a class="nav-link" href="mom.html">内存</a>
    <a class="nav-link " href="go.html">Go</a>
    <a class="nav-link" href="php.html">PHP</a>
  </nav>
</div> -->
<!--------------------------------------------------内容-------------------------------------------------------->
<main role="main" class="container">
<!---------------------------------------------------------------------------------------------------------------------------->
<!---------------------------------------------------------------------------------------------------------------------------->
<div class="row"><div class="col-xs-12 col-md-12 btit"><a href="../lang.php">Linux shell 脚本</a></div></div>
<div class="row"><span class="txt">
运行控制：
  shell是是把用户输入的命令解析成为计算机识别的机器语言。脚本后输入很多参数传递给脚本(./run.sh 12 6 8)。用$1 $2 ...变量接参数，第10个参数后这样写${10}。$0变量是脚本名（name=$(basename $0)去掉路径），$#变量参数总数，$*变量参数当作整体，$@变量把参数当作个体。
</span></div>
<div class="row"><pre><code>
bash run.sh     #---运行方式1---#
chmod +x && ./run.sh  #---运行方式2---#
nohup ./run.sh &   #---后台运行---#
jobs -l    #---查看作业---#
fg 2    #---2号作业前台运行---#
bg 2    #---前台重起作业 2---#
 
调试：
set -x    ###脚本写
bash -x ./run.sh    ###调试
</code></pre></div>

<div class="row"><span class="txt">环境变量：</span></div>
<div class="row"><pre><code>
#---变量赋值等号之间不能有空格---#
set    #---查看环境变量---#
$IFS    #---IFS变量内部字段分隔符---#
</code></pre></div>

<div class="row"><span class="txt">
$脚本里不能直接写，要用\$转移一下。EOF 注意一定要这样写 <<-EOF
</span></div>
<div class="row"><pre><code>
# 把EOF的值赋予变量temp
temp=$(cat<<-EOF
\$https
第一行内容
第二行内容
EOF
)
# 把EOF的值保存到文件temp.conf
cat >temp.conf<<-EOF
第一行内容
第二行内容
EOF
</code></pre></div>

<div class="row"><span class="txt">
嵌套IF语句：
if语句后退出状态为0的话,执行then后语句.否则不执行。
if test %var test命令对数值比较,字符串比较,文件比较的判断.
if [ command ]    #放括号定义了测试条件.两个方号之间有空格。
</span></div>
<div class="row"><pre><code>
if [[ -f /etc/redhat-release ]]; then
    echo "判断时候redhat系列"
  redhat=$(cat /etc/redhat-release)
  if [[ "$redhat" == "CentOS Linux release 8"* ]]; then
    echo "判断时候 centos 8"
  elif [[ "$redhat" == "CentOS Linux release 7"* ]]; then
    echo "判断时候 centos 7"
  fi
elif [[ -f /etc/lsb-release ]]; then
  ubuntu=$(cat /etc/lsb-release)
  if [[ "$ubuntu" == *"Ubuntu 20"* ]]; then
    echo "判断时候 Ubuntu 20"
  fi
fi
</code></pre></div>

<div class="row"><span class="txt">函数：</span></div>
<div class="row"><pre><code>
function name {     //第一种，name 和{ 之间有空格
commend
}
 
name() {     //第二种，name 和{ 之间有空格
commend
}
</code></pre></div>

<div class="row"><span class="txt">TEXT</span></div>
<div class="row"><pre><code>LANG</code></pre></div>

<div class="row"><span class="txt">[ -d /roots ] && echo "yes" || echo "no"    #条件判断</span></div>
<div class="row"><pre><code>
-d    #是否目录
-e    #文件是否存在
-f    #文件是否存在，是否普通文件
#权限比较
-r        #文件是否存在，并且读权限
-w        #文件是否存在，并且写权限
-x        #文件是否存在，执行权限
 
&& #前一个命令正确，继续执行
|| #前一个命令不正确，继续执行
#文件比较
文件1 -nt 文件2 #文件1比文件2，修改时间新的，则为真
文件1 -ot 文件2 #文件1比文件2，修改时间旧的，则为真
文件1 -ef 文件2 #文件，inode号比价，是的话则为真
 
#字符串的判断
-z 字符串  #空为返回镇
-n 字符串  #非空为返回镇
字串1==字串2  #相等返回真
字串1!=字串2  #不相等返回真
#多重判断
判断1 -a 判断2  #两个都真，返回真
判断1 -o 判断2  #一个为真，返回真
!判断 #取反
</code></pre></div>

<!-- ！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！ -->
<div class="row"><div class="col-xs-12 col-md-12 btit"><a href="../lang.php">shell 例子：</a></div></div>
<div class="row"><span class="txt">选择：</span></div>
<div class="row"><pre><code>
#!/bin/bash
echo "提示内容！！！"
read -p "请输入数字：" key

case $key in
1) ssh root@11.22.33.44 -p 28384 -i ~/.ssh/id_rsa ;;
*) echo "输入错误!" ;;
esac
</code></pre></div>

<div class="row"><span class="txt">系统文件打包：</span></div>
<div class="row"><pre><code>
#!/bin/bash
cd / && tar cvpzf backup.tgz --exclude=/backup.tgz --exclude=/tmp --exclude=/mnt --exclude=/sys --exclude=/proc --exclude=/lost+found *
</code></pre></div>

<div class="row"><span class="txt">TEXT</span></div>
<div class="row"><pre><code>LANG</code></pre></div>

<div class="row"><span class="txt">TEXT</span></div>
<div class="row"><pre><code>LANG</code></pre></div>


<!-- ------------------------------------------------------------------------------------------------------------------------------------------------------------ -->
<!-- ------------------------------------------------------------------------------------------------------------------------------------------------------------ -->
<div class="row"><hr></div>
</main>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
    <script src="../css/offcanvas.js"></script>
<div class="goTop" id="js-go_top"><a href="#ups"><img src="../css/icon_top.png" alt="回到顶部图片"></a></div>
<script src="../css/GoToTop.js"></script>

  </body>
</html>